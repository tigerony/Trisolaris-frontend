{"ast":null,"code":"var _jsxFileName = \"/Users/sidshekhar/Documents/interface/src/components/FiatInputPanel/FiatSearchModal.tsx\";\nimport React, { useRef, useMemo, useState, useCallback } from 'react';\nimport Modal from '../Modal';\nimport { StyledInput } from '../PurchaseForm/input';\nimport { FixedSizeList } from 'react-window';\nimport Column from \"../Column\";\nimport { MenuItem, PaddedColumn, Separator } from \"../SearchModal/styleds\";\nimport { RowBetween } from \"../Row\";\nimport QuestionHelper from \"../QuestionHelper\";\nimport { CloseIcon } from \"../../theme\";\nimport { Text } from 'rebass';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { SUPPORTED_FIAT_CURRENCIES } from \"../../constants/fiat\";\nimport { StyledEthereumLogo as FiatLogo } from \"../CurrencyLogo\";\nimport { filterFiats } from \"./filtering\";\nexport default function FiatSearchModal({\n  isOpen,\n  onDismiss,\n  onFiatSelect,\n  selectedFiat\n}) {\n  const handleFiatSelect = useCallback(fiat => {\n    onFiatSelect(fiat);\n    onDismiss();\n  }, [onDismiss, onFiatSelect]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const filteredFiats = useMemo(() => {\n    return filterFiats(SUPPORTED_FIAT_CURRENCIES, searchQuery);\n  }, [searchQuery]);\n  const handleInput = useCallback(event => {\n    var _fixedList$current;\n\n    const input = event.target.value;\n    setSearchQuery(input);\n    (_fixedList$current = fixedList.current) === null || _fixedList$current === void 0 ? void 0 : _fixedList$current.scrollTo(0);\n  }, []);\n  const handleEnter = useCallback(e => {\n    if (e.key === 'Enter') {\n      if (filteredFiats.length > 0) {\n        var _filteredFiats$0$symb;\n\n        if (((_filteredFiats$0$symb = filteredFiats[0].symbol) === null || _filteredFiats$0$symb === void 0 ? void 0 : _filteredFiats$0$symb.toLowerCase()) === searchQuery.trim().toLowerCase() || filteredFiats.length === 1) {\n          handleFiatSelect(filteredFiats[0]);\n        }\n      }\n    }\n  }, [handleFiatSelect, searchQuery, filteredFiats]);\n  const fixedList = useRef();\n  const inputRef = useRef();\n\n  const Row = props => {\n    const fiat = props.data[props.index];\n    const isSelected = Boolean(selectedFiat && fiat.symbol === selectedFiat.symbol);\n\n    const onSelect = () => handleFiatSelect(fiat);\n\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      style: props.style,\n      onClick: () => isSelected ? null : onSelect(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FiatLogo, {\n      size: '24px',\n      src: `${fiat.logo}`,\n      alt: fiat.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      title: fiat.name,\n      fontWeight: isSelected ? 700 : 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, fiat.symbol)));\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    maxHeight: 80,\n    minHeight: 80,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      width: '100%',\n      flex: '1 1'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PaddedColumn, {\n    gap: \"14px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontWeight: 500,\n    fontSize: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Select a currency\", /*#__PURE__*/React.createElement(QuestionHelper, {\n    text: \"Find a currency by its name or symbol.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(CloseIcon, {\n    onClick: onDismiss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(StyledInput, {\n    type: \"text\",\n    id: \"token-search-input\",\n    placeholder: \"Search\",\n    value: searchQuery,\n    ref: inputRef,\n    onChange: handleInput,\n    onKeyDown: handleEnter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Separator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: '1'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AutoSizer, {\n    disableWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, ({\n    height\n  }) => /*#__PURE__*/React.createElement(FixedSizeList, {\n    height: height,\n    width: \"100%\",\n    itemData: filteredFiats,\n    itemCount: filteredFiats.length,\n    itemSize: 56,\n    ref: fixedList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, Row)))));\n}","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/src/components/FiatInputPanel/FiatSearchModal.tsx"],"names":["React","useRef","useMemo","useState","useCallback","Modal","StyledInput","FixedSizeList","Column","MenuItem","PaddedColumn","Separator","RowBetween","QuestionHelper","CloseIcon","Text","AutoSizer","SUPPORTED_FIAT_CURRENCIES","StyledEthereumLogo","FiatLogo","filterFiats","FiatSearchModal","isOpen","onDismiss","onFiatSelect","selectedFiat","handleFiatSelect","fiat","searchQuery","setSearchQuery","filteredFiats","handleInput","event","input","target","value","fixedList","current","scrollTo","handleEnter","e","key","length","symbol","toLowerCase","trim","inputRef","Row","props","data","index","isSelected","Boolean","onSelect","style","logo","title","name","width","flex","height"],"mappings":"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","sourcesContent":["import React, {\n  useRef,\n  KeyboardEvent,\n  RefObject,\n  useMemo,\n  useState,\n  useCallback\n} from 'react'\nimport Modal from '../Modal'\nimport {StyledInput} from '../PurchaseForm/input'\nimport {FixedSizeList, ListChildComponentProps} from 'react-window'\nimport Column from \"../Column\";\nimport {MenuItem, PaddedColumn, Separator} from \"../SearchModal/styleds\";\nimport {RowBetween} from \"../Row\";\nimport QuestionHelper from \"../QuestionHelper\";\nimport {CloseIcon} from \"../../theme\";\nimport {Fiat} from '../../constants/fiat'\nimport {Text} from 'rebass'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport {SUPPORTED_FIAT_CURRENCIES} from \"../../constants/fiat\";\nimport {StyledEthereumLogo as FiatLogo} from \"../CurrencyLogo\";\nimport {filterFiats} from \"./filtering\";\n\ninterface FiatSearchModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedFiat?: Fiat\n  onFiatSelect: (fiat: Fiat) => void\n}\n\n\nexport default function FiatSearchModal({\n                                          isOpen,\n                                          onDismiss,\n                                          onFiatSelect,\n                                          selectedFiat\n                                        }: FiatSearchModalProps) {\n\n\n  const handleFiatSelect = useCallback((fiat: Fiat) => {\n    onFiatSelect(fiat)\n    onDismiss()\n  }, [onDismiss, onFiatSelect])\n\n  const [searchQuery, setSearchQuery] = useState<string>('')\n  const filteredFiats: Fiat[] = useMemo(() => {\n    return filterFiats(SUPPORTED_FIAT_CURRENCIES, searchQuery)\n  }, [searchQuery])\n  const handleInput = useCallback(event => {\n    const input = event.target.value\n    setSearchQuery(input)\n    fixedList.current?.scrollTo(0)\n  }, [])\n  const handleEnter = useCallback(\n    (e: KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === 'Enter') {\n        if (filteredFiats.length > 0) {\n          if (\n            filteredFiats[0].symbol?.toLowerCase() === searchQuery.trim().toLowerCase() ||\n            filteredFiats.length === 1\n          ) {\n            handleFiatSelect(filteredFiats[0])\n          }\n        }\n      }\n    },\n    [handleFiatSelect, searchQuery, filteredFiats]\n  )\n\n  const fixedList = useRef<FixedSizeList>()\n  const inputRef = useRef<HTMLInputElement>()\n\n  const Row = (props: ListChildComponentProps) => {\n    const fiat = props.data[props.index]\n    const isSelected = Boolean(selectedFiat && (fiat.symbol === selectedFiat.symbol))\n    const onSelect = () => handleFiatSelect(fiat)\n    return (\n      <MenuItem\n        style={props.style}\n        onClick={() => (isSelected ? null : onSelect())}\n      >\n        <FiatLogo size={'24px'} src={`${fiat.logo}`} alt={fiat.title}/>\n        <Column>\n          <Text title={fiat.name} fontWeight={(isSelected) ? 700 : 500}>\n            {fiat.symbol}\n          </Text>\n        </Column>\n      </MenuItem>\n    )\n  }\n  return (\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={80} minHeight={80}>\n\n      <Column style={{width: '100%', flex: '1 1'}}>\n        <PaddedColumn gap=\"14px\">\n          <RowBetween>\n            <Text fontWeight={500} fontSize={16}>\n              Select a currency\n              <QuestionHelper text=\"Find a currency by its name or symbol.\"/>\n            </Text>\n            <CloseIcon onClick={onDismiss}/>\n          </RowBetween>\n          <StyledInput\n            type=\"text\"\n            id=\"token-search-input\"\n            placeholder=\"Search\"\n            value={searchQuery}\n            ref={inputRef as RefObject<HTMLInputElement>}\n            onChange={handleInput}\n            onKeyDown={handleEnter}\n          />\n        </PaddedColumn>\n        <Separator/>\n\n        <div style={{flex: '1'}}>\n          <AutoSizer disableWidth>\n            {({height}) => (\n              <FixedSizeList\n                height={height}\n                width=\"100%\"\n                itemData={filteredFiats}\n                itemCount={filteredFiats.length}\n                itemSize={56}\n                ref={fixedList as any}\n              >\n                {Row}\n              </FixedSizeList>\n            )}\n          </AutoSizer>\n        </div>\n      </Column>\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}