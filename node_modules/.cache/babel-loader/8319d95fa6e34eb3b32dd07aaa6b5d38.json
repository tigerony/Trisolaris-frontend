{"ast":null,"code":"var _jsxFileName = \"/Users/sidshekhar/Documents/interface/src/pages/Vote/VotePage.tsx\";\nimport React, { useState } from 'react';\nimport { AutoColumn } from '../../components/Column';\nimport styled from 'styled-components';\nimport { TYPE, StyledInternalLink, ExternalLink } from '../../theme';\nimport { RowFixed, RowBetween } from '../../components/Row';\nimport { CardSection, DataCard } from '../../components/earn/styled';\nimport { ArrowLeft } from 'react-feather';\nimport { ButtonPrimary } from '../../components/Button';\nimport { ProposalStatus } from './styled';\nimport { useProposalData, useUserVotes, useUserDelegatee } from '../../state/governance/hooks';\nimport { DateTime } from 'luxon';\nimport ReactMarkdown from 'react-markdown';\nimport VoteModal from '../../components/vote/VoteModal';\nimport { JSBI } from '@pangolindex/sdk';\nimport { useTokenBalance } from '../../state/wallet/hooks';\nimport { useActiveWeb3React } from '../../hooks';\nimport { PNG, ZERO_ADDRESS } from '../../constants';\nimport { isAddress, getEtherscanLink } from '../../utils';\nimport { useTranslation } from 'react-i18next';\nconst PageWrapper = styled(AutoColumn)`\n  width: 100%;\n`;\nconst ProposalInfo = styled(AutoColumn)`\n  border: 1px solid ${({\n  theme\n}) => theme.bg4};\n  border-radius: 12px;\n  padding: 1.5rem;\n  position: relative;\n  max-width: 640px;\n  width: 100%;\n`;\nconst ArrowWrapper = styled(StyledInternalLink)`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  height: 24px;\n  color: ${({\n  theme\n}) => theme.text1};\n  a {\n    color: ${({\n  theme\n}) => theme.text1};\n    text-decoration: none;\n  }\n  :hover {\n    text-decoration: none;\n  }\n`;\nconst CardWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n  width: 100%;\n`;\nconst StyledDataCard = styled(DataCard)`\n  width: 100%;\n  background: none;\n  background-color: ${({\n  theme\n}) => theme.bg1};\n  height: fit-content;\n  z-index: 2;\n`;\nconst ProgressWrapper = styled.div`\n  width: 100%;\n  margin-top: 1rem;\n  height: 4px;\n  border-radius: 4px;\n  background-color: ${({\n  theme\n}) => theme.bg3};\n  position: relative;\n`;\nconst Progress = styled.div`\n  height: 4px;\n  border-radius: 4px;\n  background-color: ${({\n  theme,\n  status\n}) => status === 'for' ? theme.green1 : theme.red1};\n  width: ${({\n  percentageString\n}) => percentageString};\n`;\nconst MarkDownWrapper = styled.div`\n  max-width: 640px;\n  overflow: hidden;\n`;\nconst WrapSmall = styled(RowBetween)`\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    align-items: flex-start;\n    flex-direction: column;\n  `};\n`;\nconst DetailText = styled.div`\n  word-break: break-all;\n`;\nexport default function VotePage({\n  match: {\n    params: {\n      id\n    }\n  }\n}) {\n  var _proposalData$status, _proposalData$details;\n\n  const {\n    account,\n    chainId\n  } = useActiveWeb3React();\n  const {\n    t\n  } = useTranslation(); // get data for this specific proposal\n\n  const proposalData = useProposalData(id); // update support based on button interactions\n\n  const [support, setSupport] = useState(true); // modal for casting votes\n\n  const [showModal, setShowModal] = useState(false); // get and format date from data\n  // const startTimestamp: number | undefined = useTimestampFromBlock(proposalData?.startBlock)\n\n  const startTimestamp = proposalData === null || proposalData === void 0 ? void 0 : proposalData.startTime;\n  const endTimestamp = proposalData === null || proposalData === void 0 ? void 0 : proposalData.endTime;\n  const startDate = startTimestamp ? DateTime.fromSeconds(startTimestamp) : undefined;\n  const endDate = endTimestamp ? DateTime.fromSeconds(endTimestamp) : undefined;\n  const now = DateTime.local(); // get total votes and format percentages for UI\n\n  const totalVotes = proposalData ? proposalData.forCount + proposalData.againstCount : undefined;\n  const forPercentage = proposalData && totalVotes ? (proposalData.forCount * 100 / totalVotes).toFixed(0) + '%' : '0%';\n  const againstPercentage = proposalData && totalVotes ? (proposalData.againstCount * 100 / totalVotes).toFixed(0) + '%' : '0%'; // show delegation option if they have have a balance, have not delegated\n\n  const availableVotes = useUserVotes();\n  const uniBalance = useTokenBalance(account !== null && account !== void 0 ? account : undefined, chainId ? PNG[chainId] : undefined);\n  const userDelegatee = useUserDelegatee();\n  const showUnlockVoting = Boolean(uniBalance && JSBI.notEqual(uniBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS); // show links in propsoal details if content is an address\n\n  const linkIfAddress = content => {\n    if (isAddress(content) && chainId) {\n      return /*#__PURE__*/React.createElement(ExternalLink, {\n        href: getEtherscanLink(chainId, content, 'address'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 14\n        }\n      }, content);\n    }\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 12\n      }\n    }, content);\n  };\n\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    gap: \"lg\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(VoteModal, {\n    isOpen: showModal,\n    onDismiss: () => setShowModal(false),\n    proposalId: proposalData === null || proposalData === void 0 ? void 0 : proposalData.id,\n    support: support,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ProposalInfo, {\n    gap: \"lg\",\n    justify: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ArrowWrapper, {\n    to: \"/vote\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ArrowLeft, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }), \" \", t('votePage.allProposals')), proposalData && /*#__PURE__*/React.createElement(ProposalStatus, {\n    status: (_proposalData$status = proposalData === null || proposalData === void 0 ? void 0 : proposalData.status) !== null && _proposalData$status !== void 0 ? _proposalData$status : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 28\n    }\n  }, proposalData === null || proposalData === void 0 ? void 0 : proposalData.status)), /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"10px\",\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.largeHeader, {\n    style: {\n      marginBottom: '.5rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, proposalData === null || proposalData === void 0 ? void 0 : proposalData.title), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, startDate && startDate <= now ? t('votePage.votingStarted') + (startDate && startDate.toLocaleString(DateTime.DATETIME_FULL)) : proposalData ? t('votePage.votingStarts') + (startDate && startDate.toLocaleString(DateTime.DATETIME_FULL)) : '')), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, endDate && endDate < now ? t('votePage.votingEnded') + (endDate && endDate.toLocaleString(DateTime.DATETIME_FULL)) : proposalData ? t('votePage.votingEnds') + (endDate && endDate.toLocaleString(DateTime.DATETIME_FULL)) : ''))), !showUnlockVoting && availableVotes && JSBI.greaterThan(availableVotes === null || availableVotes === void 0 ? void 0 : availableVotes.raw, JSBI.BigInt(0)) && endDate && endDate > now && startDate && startDate <= now ? /*#__PURE__*/React.createElement(RowFixed, {\n    style: {\n      width: '100%',\n      gap: '12px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonPrimary, {\n    padding: \"8px\",\n    borderRadius: \"8px\",\n    onClick: () => {\n      setSupport(true);\n      setShowModal(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, t('votePage.voteFor')), /*#__PURE__*/React.createElement(ButtonPrimary, {\n    padding: \"8px\",\n    borderRadius: \"8px\",\n    onClick: () => {\n      setSupport(false);\n      setShowModal(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, t('votePage.voteAgainst'))) : '', /*#__PURE__*/React.createElement(CardWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledDataCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(WrapSmall, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.black, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 19\n    }\n  }, t('votePage.for')), /*#__PURE__*/React.createElement(TYPE.black, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 19\n    }\n  }, ' ', proposalData === null || proposalData === void 0 ? void 0 : proposalData.forCount.toLocaleString(undefined, {\n    maximumFractionDigits: 0\n  })))), /*#__PURE__*/React.createElement(ProgressWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Progress, {\n    status: 'for',\n    percentageString: forPercentage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(StyledDataCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(WrapSmall, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.black, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }, t('votePage.against')), /*#__PURE__*/React.createElement(TYPE.black, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  }, proposalData === null || proposalData === void 0 ? void 0 : proposalData.againstCount.toLocaleString(undefined, {\n    maximumFractionDigits: 0\n  })))), /*#__PURE__*/React.createElement(ProgressWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Progress, {\n    status: 'against',\n    percentageString: againstPercentage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.mediumHeader, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, t('votePage.details')), proposalData === null || proposalData === void 0 ? void 0 : (_proposalData$details = proposalData.details) === null || _proposalData$details === void 0 ? void 0 : _proposalData$details.map((d, i) => {\n    return /*#__PURE__*/React.createElement(DetailText, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }, i + 1, \": \", linkIfAddress(d.target), \".\", d.functionSig, \"(\", d.callData.split(',').map((content, i) => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }\n      }, linkIfAddress(content), d.callData.split(',').length - 1 === i ? '' : ',');\n    }), \")\");\n  })), /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.mediumHeader, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 11\n    }\n  }, t('votePage.overview')), /*#__PURE__*/React.createElement(MarkDownWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReactMarkdown, {\n    source: proposalData === null || proposalData === void 0 ? void 0 : proposalData.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.mediumHeader, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, t('votePage.proposer')), /*#__PURE__*/React.createElement(ExternalLink, {\n    href: (proposalData === null || proposalData === void 0 ? void 0 : proposalData.proposer) && chainId ? getEtherscanLink(chainId, proposalData === null || proposalData === void 0 ? void 0 : proposalData.proposer, 'address') : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReactMarkdown, {\n    source: proposalData === null || proposalData === void 0 ? void 0 : proposalData.proposer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/src/pages/Vote/VotePage.tsx"],"names":["React","useState","AutoColumn","styled","TYPE","StyledInternalLink","ExternalLink","RowFixed","RowBetween","CardSection","DataCard","ArrowLeft","ButtonPrimary","ProposalStatus","useProposalData","useUserVotes","useUserDelegatee","DateTime","ReactMarkdown","VoteModal","JSBI","useTokenBalance","useActiveWeb3React","PNG","ZERO_ADDRESS","isAddress","getEtherscanLink","useTranslation","PageWrapper","ProposalInfo","theme","bg4","ArrowWrapper","text1","CardWrapper","div","StyledDataCard","bg1","ProgressWrapper","bg3","Progress","status","green1","red1","percentageString","MarkDownWrapper","WrapSmall","mediaWidth","upToSmall","DetailText","VotePage","match","params","id","account","chainId","t","proposalData","support","setSupport","showModal","setShowModal","startTimestamp","startTime","endTimestamp","endTime","startDate","fromSeconds","undefined","endDate","now","local","totalVotes","forCount","againstCount","forPercentage","toFixed","againstPercentage","availableVotes","uniBalance","userDelegatee","showUnlockVoting","Boolean","notEqual","raw","BigInt","linkIfAddress","content","width","marginBottom","title","toLocaleString","DATETIME_FULL","greaterThan","gap","maximumFractionDigits","details","map","d","i","target","functionSig","callData","split","length","description","proposer"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { AutoColumn } from '../../components/Column'\nimport styled from 'styled-components'\n\nimport { RouteComponentProps } from 'react-router-dom'\nimport { TYPE, StyledInternalLink, ExternalLink } from '../../theme'\nimport { RowFixed, RowBetween } from '../../components/Row'\nimport { CardSection, DataCard } from '../../components/earn/styled'\nimport { ArrowLeft } from 'react-feather'\nimport { ButtonPrimary } from '../../components/Button'\nimport { ProposalStatus } from './styled'\nimport { useProposalData, useUserVotes, useUserDelegatee, ProposalData } from '../../state/governance/hooks'\nimport { DateTime } from 'luxon'\nimport ReactMarkdown from 'react-markdown'\nimport VoteModal from '../../components/vote/VoteModal'\nimport { TokenAmount, JSBI } from '@pangolindex/sdk'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { useActiveWeb3React } from '../../hooks'\nimport { PNG, ZERO_ADDRESS } from '../../constants'\nimport { isAddress, getEtherscanLink } from '../../utils'\nimport { useTranslation } from 'react-i18next'\n\nconst PageWrapper = styled(AutoColumn)`\n  width: 100%;\n`\n\nconst ProposalInfo = styled(AutoColumn)`\n  border: 1px solid ${({ theme }) => theme.bg4};\n  border-radius: 12px;\n  padding: 1.5rem;\n  position: relative;\n  max-width: 640px;\n  width: 100%;\n`\nconst ArrowWrapper = styled(StyledInternalLink)`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  height: 24px;\n  color: ${({ theme }) => theme.text1};\n  a {\n    color: ${({ theme }) => theme.text1};\n    text-decoration: none;\n  }\n  :hover {\n    text-decoration: none;\n  }\n`\nconst CardWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n  width: 100%;\n`\n\nconst StyledDataCard = styled(DataCard)`\n  width: 100%;\n  background: none;\n  background-color: ${({ theme }) => theme.bg1};\n  height: fit-content;\n  z-index: 2;\n`\n\nconst ProgressWrapper = styled.div`\n  width: 100%;\n  margin-top: 1rem;\n  height: 4px;\n  border-radius: 4px;\n  background-color: ${({ theme }) => theme.bg3};\n  position: relative;\n`\n\nconst Progress = styled.div<{ status: 'for' | 'against'; percentageString?: string }>`\n  height: 4px;\n  border-radius: 4px;\n  background-color: ${({ theme, status }) => (status === 'for' ? theme.green1 : theme.red1)};\n  width: ${({ percentageString }) => percentageString};\n`\n\nconst MarkDownWrapper = styled.div`\n  max-width: 640px;\n  overflow: hidden;\n`\n\nconst WrapSmall = styled(RowBetween)`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    align-items: flex-start;\n    flex-direction: column;\n  `};\n`\n\nconst DetailText = styled.div`\n  word-break: break-all;\n`\n\nexport default function VotePage({\n  match: {\n    params: { id }\n  }\n}: RouteComponentProps<{ id: string }>) {\n  const { account, chainId } = useActiveWeb3React()\n  const { t } = useTranslation()\n\n  // get data for this specific proposal\n  const proposalData: ProposalData | undefined = useProposalData(id)\n\n  // update support based on button interactions\n  const [support, setSupport] = useState<boolean>(true)\n\n  // modal for casting votes\n  const [showModal, setShowModal] = useState<boolean>(false)\n\n  // get and format date from data\n  // const startTimestamp: number | undefined = useTimestampFromBlock(proposalData?.startBlock)\n  const startTimestamp: number | undefined = proposalData?.startTime\n  const endTimestamp: number | undefined = proposalData?.endTime\n  const startDate: DateTime | undefined = startTimestamp ? DateTime.fromSeconds(startTimestamp) : undefined\n  const endDate: DateTime | undefined = endTimestamp ? DateTime.fromSeconds(endTimestamp) : undefined\n  const now: DateTime = DateTime.local()\n\n  // get total votes and format percentages for UI\n  const totalVotes: number | undefined = proposalData ? proposalData.forCount + proposalData.againstCount : undefined\n  const forPercentage: string =\n    proposalData && totalVotes ? ((proposalData.forCount * 100) / totalVotes).toFixed(0) + '%' : '0%'\n  const againstPercentage: string =\n    proposalData && totalVotes ? ((proposalData.againstCount * 100) / totalVotes).toFixed(0) + '%' : '0%'\n\n  // show delegation option if they have have a balance, have not delegated\n  const availableVotes: TokenAmount | undefined = useUserVotes()\n  const uniBalance: TokenAmount | undefined = useTokenBalance(account ?? undefined, chainId ? PNG[chainId] : undefined)\n  const userDelegatee: string | undefined = useUserDelegatee()\n  const showUnlockVoting = Boolean(\n    uniBalance && JSBI.notEqual(uniBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS\n  )\n\n  // show links in propsoal details if content is an address\n  const linkIfAddress = (content: string) => {\n    if (isAddress(content) && chainId) {\n      return <ExternalLink href={getEtherscanLink(chainId, content, 'address')}>{content}</ExternalLink>\n    }\n    return <span>{content}</span>\n  }\n\n  return (\n    <PageWrapper gap=\"lg\" justify=\"center\">\n      <VoteModal\n        isOpen={showModal}\n        onDismiss={() => setShowModal(false)}\n        proposalId={proposalData?.id}\n        support={support}\n      />\n      <ProposalInfo gap=\"lg\" justify=\"start\">\n        <RowBetween style={{ width: '100%' }}>\n          <ArrowWrapper to=\"/vote\">\n            <ArrowLeft size={20} /> {t('votePage.allProposals')}\n          </ArrowWrapper>\n          {proposalData && <ProposalStatus status={proposalData?.status ?? ''}>{proposalData?.status}</ProposalStatus>}\n        </RowBetween>\n        <AutoColumn gap=\"10px\" style={{ width: '100%' }}>\n          <TYPE.largeHeader style={{ marginBottom: '.5rem' }}>{proposalData?.title}</TYPE.largeHeader>\n          <RowBetween>\n            <TYPE.main>\n              {startDate && startDate <= now\n                ? t('votePage.votingStarted') + (startDate && startDate.toLocaleString(DateTime.DATETIME_FULL))\n                : proposalData\n                ? t('votePage.votingStarts') + (startDate && startDate.toLocaleString(DateTime.DATETIME_FULL))\n                : ''}\n            </TYPE.main>\n          </RowBetween>\n          <RowBetween>\n            <TYPE.main>\n              {endDate && endDate < now\n                ? t('votePage.votingEnded') + (endDate && endDate.toLocaleString(DateTime.DATETIME_FULL))\n                : proposalData\n                ? t('votePage.votingEnds') + (endDate && endDate.toLocaleString(DateTime.DATETIME_FULL))\n                : ''}\n            </TYPE.main>\n          </RowBetween>\n        </AutoColumn>\n        {!showUnlockVoting &&\n        availableVotes &&\n        JSBI.greaterThan(availableVotes?.raw, JSBI.BigInt(0)) &&\n        endDate &&\n        endDate > now &&\n        startDate &&\n        startDate <= now ? (\n          <RowFixed style={{ width: '100%', gap: '12px' }}>\n            <ButtonPrimary\n              padding=\"8px\"\n              borderRadius=\"8px\"\n              onClick={() => {\n                setSupport(true)\n                setShowModal(true)\n              }}\n            >\n              {t('votePage.voteFor')}\n            </ButtonPrimary>\n            <ButtonPrimary\n              padding=\"8px\"\n              borderRadius=\"8px\"\n              onClick={() => {\n                setSupport(false)\n                setShowModal(true)\n              }}\n            >\n              {t('votePage.voteAgainst')}\n            </ButtonPrimary>\n          </RowFixed>\n        ) : (\n          ''\n        )}\n        <CardWrapper>\n          <StyledDataCard>\n            <CardSection>\n              <AutoColumn gap=\"md\">\n                <WrapSmall>\n                  <TYPE.black fontWeight={600}>{t('votePage.for')}</TYPE.black>\n                  <TYPE.black fontWeight={600}>\n                    {' '}\n                    {proposalData?.forCount.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                  </TYPE.black>\n                </WrapSmall>\n              </AutoColumn>\n              <ProgressWrapper>\n                <Progress status={'for'} percentageString={forPercentage} />\n              </ProgressWrapper>\n            </CardSection>\n          </StyledDataCard>\n          <StyledDataCard>\n            <CardSection>\n              <AutoColumn gap=\"md\">\n                <WrapSmall>\n                  <TYPE.black fontWeight={600}>{t('votePage.against')}</TYPE.black>\n                  <TYPE.black fontWeight={600}>\n                    {proposalData?.againstCount.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                  </TYPE.black>\n                </WrapSmall>\n              </AutoColumn>\n              <ProgressWrapper>\n                <Progress status={'against'} percentageString={againstPercentage} />\n              </ProgressWrapper>\n            </CardSection>\n          </StyledDataCard>\n        </CardWrapper>\n        <AutoColumn gap=\"md\">\n          <TYPE.mediumHeader fontWeight={600}>{t('votePage.details')}</TYPE.mediumHeader>\n          {proposalData?.details?.map((d, i) => {\n            return (\n              <DetailText key={i}>\n                {i + 1}: {linkIfAddress(d.target)}.{d.functionSig}(\n                {d.callData.split(',').map((content, i) => {\n                  return (\n                    <span key={i}>\n                      {linkIfAddress(content)}\n                      {d.callData.split(',').length - 1 === i ? '' : ','}\n                    </span>\n                  )\n                })}\n                )\n              </DetailText>\n            )\n          })}\n        </AutoColumn>\n        <AutoColumn gap=\"md\">\n          <TYPE.mediumHeader fontWeight={600}>{t('votePage.overview')}</TYPE.mediumHeader>\n          <MarkDownWrapper>\n            <ReactMarkdown source={proposalData?.description} />\n          </MarkDownWrapper>\n        </AutoColumn>\n        <AutoColumn gap=\"md\">\n          <TYPE.mediumHeader fontWeight={600}>{t('votePage.proposer')}</TYPE.mediumHeader>\n          <ExternalLink\n            href={proposalData?.proposer && chainId ? getEtherscanLink(chainId, proposalData?.proposer, 'address') : ''}\n          >\n            <ReactMarkdown source={proposalData?.proposer} />\n          </ExternalLink>\n        </AutoColumn>\n      </ProposalInfo>\n    </PageWrapper>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}