{"ast":null,"code":"var _jsxFileName = \"/Users/sidshekhar/Documents/interface/src/pages/Vote/index.tsx\";\nimport { Button } from 'rebass/styled-components';\nimport { darken } from 'polished';\nimport { CardSection, DataCard, CardNoise, CardBGImage } from '../../components/earn/styled';\nimport { useAllProposalData, useUserVotes, useUserDelegatee } from '../../state/governance/hooks';\nimport DelegateModal from '../../components/vote/DelegateModal';\nimport { useTokenBalance } from '../../state/wallet/hooks';\nimport { useActiveWeb3React } from '../../hooks';\nimport { PNG, ZERO_ADDRESS } from '../../constants';\nimport { JSBI, ChainId } from '@pangolindex/sdk';\nimport { shortenAddress, getEtherscanLink } from '../../utils';\nimport Loader from '../../components/Loader';\nimport FormattedCurrencyAmount from '../../components/FormattedCurrencyAmount';\nimport React from 'react';\nimport { AutoColumn } from '../../components/Column';\nimport styled from 'styled-components';\nimport { TYPE, ExternalLink } from '../../theme';\nimport { RowBetween, RowFixed } from '../../components/Row';\nimport { Link } from 'react-router-dom';\nimport { ProposalStatus } from './styled';\nimport { ButtonPrimary } from '../../components/Button';\nimport { useModalOpen, useToggleDelegateModal } from '../../state/application/hooks';\nimport { ApplicationModal } from '../../state/application/actions';\nimport { useTranslation } from 'react-i18next';\nconst PageWrapper = styled(AutoColumn)``;\nconst TopSection = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`;\nconst Proposal = styled(Button)`\n  padding: 0.75rem 1rem;\n  width: 100%;\n  margin-top: 1rem;\n  border-radius: 12px;\n  display: grid;\n  grid-template-columns: 48px 1fr 120px;\n  align-items: center;\n  text-align: left;\n  outline: none;\n  cursor: pointer;\n  color: ${({\n  theme\n}) => theme.text1};\n  text-decoration: none;\n  background-color: ${({\n  theme\n}) => theme.bg1};\n  &:focus {\n    background-color: ${({\n  theme\n}) => darken(0.05, theme.bg1)};\n  }\n  &:hover {\n    background-color: ${({\n  theme\n}) => darken(0.05, theme.bg1)};\n  }\n`;\nconst ProposalNumber = styled.span`\n  opacity: 0.6;\n`;\nconst ProposalTitle = styled.span`\n  font-weight: 600;\n`;\nconst VoteCard = styled(DataCard)`\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);\n  overflow: hidden;\n`;\nconst WrapSmall = styled(RowBetween)`\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    flex-wrap: wrap;\n\n  `};\n`;\nconst TextButton = styled(TYPE.main)`\n  color: ${({\n  theme\n}) => theme.primary1};\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n`;\nconst AddressButton = styled.div`\n  border: 1px solid ${({\n  theme\n}) => theme.bg3};\n  padding: 2px 4px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst StyledExternalLink = styled(ExternalLink)`\n  color: ${({\n  theme\n}) => theme.text1};\n`;\nconst EmptyProposals = styled.div`\n  border: 1px solid ${({\n  theme\n}) => theme.text4};\n  padding: 16px 12px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\nexport default function Vote() {\n  const {\n    account,\n    chainId\n  } = useActiveWeb3React();\n  const {\n    t\n  } = useTranslation(); // toggle for showing delegation modal\n\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE);\n  const toggleDelegateModal = useToggleDelegateModal(); // get data to list all proposals\n\n  const allProposals = useAllProposalData(); // user data\n\n  const availableVotes = useUserVotes();\n  const pngBalance = useTokenBalance(account !== null && account !== void 0 ? account : undefined, chainId ? PNG[chainId] : undefined);\n  const userDelegatee = useUserDelegatee(); // show delegation option if they have have a balance, but have not delegated\n\n  const showUnlockVoting = Boolean(pngBalance && JSBI.notEqual(pngBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS);\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    gap: \"lg\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DelegateModal, {\n    isOpen: showDelegateModal,\n    onDismiss: toggleDelegateModal,\n    title: showUnlockVoting ? t('votePage.unlockVotes') : t('votePage.updateDelegation'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TopSection, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(VoteCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBGImage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CardNoise, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CardSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.white, {\n    fontWeight: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, t('votePage.pangolinGovernance'))), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.white, {\n    fontSize: 14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, t('votePage.earnedPngTokens'))), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.white, {\n    fontSize: 14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, t('votePage.eligibleToVote'))), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.white, {\n    fontSize: 14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, t('votePage.governanceVotes'))))), /*#__PURE__*/React.createElement(CardBGImage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CardNoise, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(TopSection, {\n    gap: \"2px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(WrapSmall, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.mediumHeader, {\n    style: {\n      margin: '0.5rem 0.5rem 0.5rem 0',\n      flexShrink: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, t('votePage.proposals')), (!allProposals || allProposals.length === 0) && !availableVotes && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 79\n    }\n  }), showUnlockVoting ? /*#__PURE__*/React.createElement(ButtonPrimary, {\n    style: {\n      width: 'fit-content'\n    },\n    padding: \"8px\",\n    borderRadius: \"8px\",\n    onClick: toggleDelegateModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, t('votePage.unlockVoting')) : availableVotes && JSBI.notEqual(JSBI.BigInt(0), availableVotes === null || availableVotes === void 0 ? void 0 : availableVotes.raw) ? /*#__PURE__*/React.createElement(TYPE.body, {\n    fontWeight: 500,\n    mr: \"6px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedCurrencyAmount, {\n    currencyAmount: availableVotes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }), \" \", t('votePage.votes')) : pngBalance && userDelegatee && userDelegatee !== ZERO_ADDRESS && JSBI.notEqual(JSBI.BigInt(0), pngBalance === null || pngBalance === void 0 ? void 0 : pngBalance.raw) ? /*#__PURE__*/React.createElement(TYPE.body, {\n    fontWeight: 500,\n    mr: \"6px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedCurrencyAmount, {\n    currencyAmount: pngBalance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }), \" \", t('votePage.votes')) : ''), !showUnlockVoting && /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }), userDelegatee && userDelegatee !== ZERO_ADDRESS ? /*#__PURE__*/React.createElement(RowFixed, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    fontWeight: 500,\n    mr: \"4px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, t('votePage.delegatedTo')), /*#__PURE__*/React.createElement(AddressButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StyledExternalLink, {\n    href: getEtherscanLink(ChainId.FUJI, userDelegatee, 'address'),\n    style: {\n      margin: '0 4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  }, userDelegatee === account ? 'Self' : shortenAddress(userDelegatee)), /*#__PURE__*/React.createElement(TextButton, {\n    onClick: toggleDelegateModal,\n    style: {\n      marginLeft: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }\n  }, \"(\", t('votePage.edit'), \")\"))) : ''), (allProposals === null || allProposals === void 0 ? void 0 : allProposals.length) === 0 && /*#__PURE__*/React.createElement(EmptyProposals, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    style: {\n      marginBottom: '8px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, t('votePage.noProposalsFound')), /*#__PURE__*/React.createElement(TYPE.subHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, t('votePage.proposalCommunityMembers')))), allProposals === null || allProposals === void 0 ? void 0 : allProposals.map((p, i) => {\n    return /*#__PURE__*/React.createElement(Proposal, {\n      as: Link,\n      to: '/vote/' + p.id,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ProposalNumber, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, p.id), /*#__PURE__*/React.createElement(ProposalTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    }, p.title), /*#__PURE__*/React.createElement(ProposalStatus, {\n      status: p.status,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }\n    }, p.status));\n  })), /*#__PURE__*/React.createElement(TYPE.subHeader, {\n    color: \"text3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, t('votePage.minimumThreshold')));\n}","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/src/pages/Vote/index.tsx"],"names":["Button","darken","CardSection","DataCard","CardNoise","CardBGImage","useAllProposalData","useUserVotes","useUserDelegatee","DelegateModal","useTokenBalance","useActiveWeb3React","PNG","ZERO_ADDRESS","JSBI","ChainId","shortenAddress","getEtherscanLink","Loader","FormattedCurrencyAmount","React","AutoColumn","styled","TYPE","ExternalLink","RowBetween","RowFixed","Link","ProposalStatus","ButtonPrimary","useModalOpen","useToggleDelegateModal","ApplicationModal","useTranslation","PageWrapper","TopSection","Proposal","theme","text1","bg1","ProposalNumber","span","ProposalTitle","VoteCard","WrapSmall","mediaWidth","upToSmall","TextButton","main","primary1","AddressButton","div","bg3","StyledExternalLink","EmptyProposals","text4","Vote","account","chainId","t","showDelegateModal","DELEGATE","toggleDelegateModal","allProposals","availableVotes","pngBalance","undefined","userDelegatee","showUnlockVoting","Boolean","notEqual","raw","BigInt","margin","flexShrink","length","width","FUJI","marginLeft","marginBottom","map","p","i","id","title","status"],"mappings":";AAAA,SAASA,MAAT,QAAuB,0BAAvB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,SAAhC,EAA2CC,WAA3C,QAA8D,8BAA9D;AACA,SAASC,kBAAT,EAA2CC,YAA3C,EAAyDC,gBAAzD,QAAiF,8BAAjF;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,kBAAT,QAAmC,aAAnC;AACA,SAASC,GAAT,EAAcC,YAAd,QAAkC,iBAAlC;AACA,SAASC,IAAT,EAA4BC,OAA5B,QAA2C,kBAA3C;AACA,SAASC,cAAT,EAAyBC,gBAAzB,QAAiD,aAAjD;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,uBAAP,MAAoC,0CAApC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,IAAT,EAAeC,YAAf,QAAmC,aAAnC;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,sBAArC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,SAASC,aAAT,QAA8B,yBAA9B;AAEA,SAASC,YAAT,EAAuBC,sBAAvB,QAAqD,+BAArD;AACA,SAASC,gBAAT,QAAiC,iCAAjC;AACA,SAASC,cAAT,QAA+B,eAA/B;AAEA,MAAMC,WAAW,GAAGZ,MAAM,CAACD,UAAD,CAAa,EAAvC;AAEA,MAAMc,UAAU,GAAGb,MAAM,CAACD,UAAD,CAAa;AACtC;AACA;AACA,CAHA;AAKA,MAAMe,QAAQ,GAAGd,MAAM,CAACtB,MAAD,CAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,CAAC;AAAEqC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,KAAM;AACtC;AACA,sBAAsB,CAAC;AAAED,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACE,GAAI;AAC/C;AACA,wBAAwB,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAepC,MAAM,CAAC,IAAD,EAAOoC,KAAK,CAACE,GAAb,CAAkB;AAC/D;AACA;AACA,wBAAwB,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAepC,MAAM,CAAC,IAAD,EAAOoC,KAAK,CAACE,GAAb,CAAkB;AAC/D;AACA,CApBA;AAsBA,MAAMC,cAAc,GAAGlB,MAAM,CAACmB,IAAK;AACnC;AACA,CAFA;AAIA,MAAMC,aAAa,GAAGpB,MAAM,CAACmB,IAAK;AAClC;AACA,CAFA;AAIA,MAAME,QAAQ,GAAGrB,MAAM,CAACnB,QAAD,CAAW;AAClC;AACA;AACA,CAHA;AAKA,MAAMyC,SAAS,GAAGtB,MAAM,CAACG,UAAD,CAAa;AACrC,IAAI,CAAC;AAAEY,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACQ,UAAN,CAAiBC,SAAU;AAC9C;AACA;AACA,GAAI;AACJ,CALA;AAOA,MAAMC,UAAU,GAAGzB,MAAM,CAACC,IAAI,CAACyB,IAAN,CAAY;AACrC,WAAW,CAAC;AAAEX,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACY,QAAS;AACzC;AACA;AACA;AACA;AACA,CANA;AAQA,MAAMC,aAAa,GAAG5B,MAAM,CAAC6B,GAAI;AACjC,sBAAsB,CAAC;AAAEd,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACe,GAAI;AAC/C;AACA;AACA;AACA;AACA;AACA,CAPA;AASA,MAAMC,kBAAkB,GAAG/B,MAAM,CAACE,YAAD,CAAe;AAChD,WAAW,CAAC;AAAEa,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,KAAM;AACtC,CAFA;AAIA,MAAMgB,cAAc,GAAGhC,MAAM,CAAC6B,GAAI;AAClC,sBAAsB,CAAC;AAAEd,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACkB,KAAM;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,CARA;AAUA,eAAe,SAASC,IAAT,GAAgB;AAC7B,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAuB/C,kBAAkB,EAA/C;AACA,QAAM;AAAEgD,IAAAA;AAAF,MAAQ1B,cAAc,EAA5B,CAF6B,CAI7B;;AACA,QAAM2B,iBAAiB,GAAG9B,YAAY,CAACE,gBAAgB,CAAC6B,QAAlB,CAAtC;AACA,QAAMC,mBAAmB,GAAG/B,sBAAsB,EAAlD,CAN6B,CAQ7B;;AACA,QAAMgC,YAA4B,GAAGzD,kBAAkB,EAAvD,CAT6B,CAW7B;;AACA,QAAM0D,cAAuC,GAAGzD,YAAY,EAA5D;AACA,QAAM0D,UAAmC,GAAGvD,eAAe,CAAC+C,OAAD,aAACA,OAAD,cAACA,OAAD,GAAYS,SAAZ,EAAuBR,OAAO,GAAG9C,GAAG,CAAC8C,OAAD,CAAN,GAAkBQ,SAAhD,CAA3D;AACA,QAAMC,aAAiC,GAAG3D,gBAAgB,EAA1D,CAd6B,CAgB7B;;AACA,QAAM4D,gBAAgB,GAAGC,OAAO,CAC9BJ,UAAU,IAAInD,IAAI,CAACwD,QAAL,CAAcL,UAAU,CAACM,GAAzB,EAA8BzD,IAAI,CAAC0D,MAAL,CAAY,CAAZ,CAA9B,CAAd,IAA+DL,aAAa,KAAKtD,YADnD,CAAhC;AAIA,sBACE,oBAAC,WAAD;AAAa,IAAA,GAAG,EAAC,IAAjB;AAAsB,IAAA,OAAO,EAAC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,MAAM,EAAE+C,iBADV;AAEE,IAAA,SAAS,EAAEE,mBAFb;AAGE,IAAA,KAAK,EAAEM,gBAAgB,GAAGT,CAAC,CAAC,sBAAD,CAAJ,GAA+BA,CAAC,CAAC,2BAAD,CAHzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,UAAU,EAAE,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BA,CAAC,CAAC,6BAAD,CAA/B,CADF,CADF,eAIE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,QAAQ,EAAE,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BA,CAAC,CAAC,0BAAD,CAA5B,CADF,CAJF,eAOE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,QAAQ,EAAE,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BA,CAAC,CAAC,yBAAD,CAA5B,CADF,CAPF,eAUE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,QAAQ,EAAE,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BA,CAAC,CAAC,0BAAD,CAA5B,CADF,CAVF,CADF,CAHF,eAmBE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,eAoBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,CADF,CANF,eA8BE,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,YAAN;AAAmB,IAAA,KAAK,EAAE;AAAEc,MAAAA,MAAM,EAAE,wBAAV;AAAoCC,MAAAA,UAAU,EAAE;AAAhD,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGf,CAAC,CAAC,oBAAD,CADJ,CADF,EAIG,CAAC,CAACI,YAAD,IAAiBA,YAAY,CAACY,MAAb,KAAwB,CAA1C,KAAgD,CAACX,cAAjD,iBAAmE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJtE,EAKGI,gBAAgB,gBACf,oBAAC,aAAD;AACE,IAAA,KAAK,EAAE;AAAEQ,MAAAA,KAAK,EAAE;AAAT,KADT;AAEE,IAAA,OAAO,EAAC,KAFV;AAGE,IAAA,YAAY,EAAC,KAHf;AAIE,IAAA,OAAO,EAAEd,mBAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGH,CAAC,CAAC,uBAAD,CANJ,CADe,GASbK,cAAc,IAAIlD,IAAI,CAACwD,QAAL,CAAcxD,IAAI,CAAC0D,MAAL,CAAY,CAAZ,CAAd,EAA8BR,cAA9B,aAA8BA,cAA9B,uBAA8BA,cAAc,CAAEO,GAA9C,CAAlB,gBACF,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,UAAU,EAAE,GAAvB;AAA4B,IAAA,EAAE,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,uBAAD;AAAyB,IAAA,cAAc,EAAEP,cAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,OAC+DL,CAAC,CAAC,gBAAD,CADhE,CADE,GAIAM,UAAU,IACZE,aADE,IAEFA,aAAa,KAAKtD,YAFhB,IAGFC,IAAI,CAACwD,QAAL,CAAcxD,IAAI,CAAC0D,MAAL,CAAY,CAAZ,CAAd,EAA8BP,UAA9B,aAA8BA,UAA9B,uBAA8BA,UAAU,CAAEM,GAA1C,CAHE,gBAIF,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,UAAU,EAAE,GAAvB;AAA4B,IAAA,EAAE,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,uBAAD;AAAyB,IAAA,cAAc,EAAEN,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,OAC2DN,CAAC,CAAC,gBAAD,CAD5D,CAJE,GAQF,EA1BJ,CADF,EA8BG,CAACS,gBAAD,iBACC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGD,aAAa,IAAIA,aAAa,KAAKtD,YAAnC,gBACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,UAAU,EAAE,GAAvB;AAA4B,IAAA,EAAE,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG8C,CAAC,CAAC,sBAAD,CADJ,CADF,eAIE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD;AACE,IAAA,IAAI,EAAE1C,gBAAgB,CAACF,OAAO,CAAC8D,IAAT,EAAeV,aAAf,EAA8B,SAA9B,CADxB;AAEE,IAAA,KAAK,EAAE;AAAEM,MAAAA,MAAM,EAAE;AAAV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGN,aAAa,KAAKV,OAAlB,GAA4B,MAA5B,GAAqCzC,cAAc,CAACmD,aAAD,CAJtD,CADF,eAOE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEL,mBAArB;AAA0C,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACInB,CAAC,CAAC,eAAD,CADL,MAPF,CAJF,CADD,GAkBC,EApBJ,CA/BJ,EAuDG,CAAAI,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEY,MAAd,MAAyB,CAAzB,iBACC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,KAAK,EAAE;AAAEI,MAAAA,YAAY,EAAE;AAAhB,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4CpB,CAAC,CAAC,2BAAD,CAA7C,CADF,eAEE,oBAAC,IAAD,CAAM,SAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,CAAC,CAAC,mCAAD,CAAL,CADF,CAFF,CAxDJ,EA+DGI,YA/DH,aA+DGA,YA/DH,uBA+DGA,YAAY,CAAEiB,GAAd,CAAkB,CAACC,CAAD,EAAkBC,CAAlB,KAAwB;AACzC,wBACE,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAEvD,IAAd;AAAoB,MAAA,EAAE,EAAE,WAAWsD,CAAC,CAACE,EAArC;AAAyC,MAAA,GAAG,EAAED,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiBD,CAAC,CAACE,EAAnB,CADF,eAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgBF,CAAC,CAACG,KAAlB,CAFF,eAGE,oBAAC,cAAD;AAAgB,MAAA,MAAM,EAAEH,CAAC,CAACI,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCJ,CAAC,CAACI,MAArC,CAHF,CADF;AAOD,GARA,CA/DH,CA9BF,eAuGE,oBAAC,IAAD,CAAM,SAAN;AAAgB,IAAA,KAAK,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+B1B,CAAC,CAAC,2BAAD,CAAhC,CAvGF,CADF;AA2GD","sourcesContent":["import { Button } from 'rebass/styled-components'\nimport { darken } from 'polished'\nimport { CardSection, DataCard, CardNoise, CardBGImage } from '../../components/earn/styled'\nimport { useAllProposalData, ProposalData, useUserVotes, useUserDelegatee } from '../../state/governance/hooks'\nimport DelegateModal from '../../components/vote/DelegateModal'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { useActiveWeb3React } from '../../hooks'\nimport { PNG, ZERO_ADDRESS } from '../../constants'\nimport { JSBI, TokenAmount, ChainId } from '@pangolindex/sdk'\nimport { shortenAddress, getEtherscanLink } from '../../utils'\nimport Loader from '../../components/Loader'\nimport FormattedCurrencyAmount from '../../components/FormattedCurrencyAmount'\n\nimport React from 'react'\nimport { AutoColumn } from '../../components/Column'\nimport styled from 'styled-components'\nimport { TYPE, ExternalLink } from '../../theme'\nimport { RowBetween, RowFixed } from '../../components/Row'\nimport { Link } from 'react-router-dom'\nimport { ProposalStatus } from './styled'\nimport { ButtonPrimary } from '../../components/Button'\n\nimport { useModalOpen, useToggleDelegateModal } from '../../state/application/hooks'\nimport { ApplicationModal } from '../../state/application/actions'\nimport { useTranslation } from 'react-i18next'\n\nconst PageWrapper = styled(AutoColumn)``\n\nconst TopSection = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`\n\nconst Proposal = styled(Button)`\n  padding: 0.75rem 1rem;\n  width: 100%;\n  margin-top: 1rem;\n  border-radius: 12px;\n  display: grid;\n  grid-template-columns: 48px 1fr 120px;\n  align-items: center;\n  text-align: left;\n  outline: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.text1};\n  text-decoration: none;\n  background-color: ${({ theme }) => theme.bg1};\n  &:focus {\n    background-color: ${({ theme }) => darken(0.05, theme.bg1)};\n  }\n  &:hover {\n    background-color: ${({ theme }) => darken(0.05, theme.bg1)};\n  }\n`\n\nconst ProposalNumber = styled.span`\n  opacity: 0.6;\n`\n\nconst ProposalTitle = styled.span`\n  font-weight: 600;\n`\n\nconst VoteCard = styled(DataCard)`\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);\n  overflow: hidden;\n`\n\nconst WrapSmall = styled(RowBetween)`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-wrap: wrap;\n\n  `};\n`\n\nconst TextButton = styled(TYPE.main)`\n  color: ${({ theme }) => theme.primary1};\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n`\n\nconst AddressButton = styled.div`\n  border: 1px solid ${({ theme }) => theme.bg3};\n  padding: 2px 4px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst StyledExternalLink = styled(ExternalLink)`\n  color: ${({ theme }) => theme.text1};\n`\n\nconst EmptyProposals = styled.div`\n  border: 1px solid ${({ theme }) => theme.text4};\n  padding: 16px 12px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nexport default function Vote() {\n  const { account, chainId } = useActiveWeb3React()\n  const { t } = useTranslation()\n\n  // toggle for showing delegation modal\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE)\n  const toggleDelegateModal = useToggleDelegateModal()\n\n  // get data to list all proposals\n  const allProposals: ProposalData[] = useAllProposalData()\n\n  // user data\n  const availableVotes: TokenAmount | undefined = useUserVotes()\n  const pngBalance: TokenAmount | undefined = useTokenBalance(account ?? undefined, chainId ? PNG[chainId] : undefined)\n  const userDelegatee: string | undefined = useUserDelegatee()\n\n  // show delegation option if they have have a balance, but have not delegated\n  const showUnlockVoting = Boolean(\n    pngBalance && JSBI.notEqual(pngBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS\n  )\n\n  return (\n    <PageWrapper gap=\"lg\" justify=\"center\">\n      <DelegateModal\n        isOpen={showDelegateModal}\n        onDismiss={toggleDelegateModal}\n        title={showUnlockVoting ? t('votePage.unlockVotes') : t('votePage.updateDelegation')}\n      />\n      <TopSection gap=\"md\">\n        <VoteCard>\n          <CardBGImage />\n          <CardNoise />\n          <CardSection>\n            <AutoColumn gap=\"md\">\n              <RowBetween>\n                <TYPE.white fontWeight={600}>{t('votePage.pangolinGovernance')}</TYPE.white>\n              </RowBetween>\n              <RowBetween>\n                <TYPE.white fontSize={14}>{t('votePage.earnedPngTokens')}</TYPE.white>\n              </RowBetween>\n              <RowBetween>\n                <TYPE.white fontSize={14}>{t('votePage.eligibleToVote')}</TYPE.white>\n              </RowBetween>\n              <RowBetween>\n                <TYPE.white fontSize={14}>{t('votePage.governanceVotes')}</TYPE.white>\n              </RowBetween>\n            </AutoColumn>\n          </CardSection>\n          <CardBGImage />\n          <CardNoise />\n        </VoteCard>\n      </TopSection>\n      <TopSection gap=\"2px\">\n        <WrapSmall>\n          <TYPE.mediumHeader style={{ margin: '0.5rem 0.5rem 0.5rem 0', flexShrink: 0 }}>\n            {t('votePage.proposals')}\n          </TYPE.mediumHeader>\n          {(!allProposals || allProposals.length === 0) && !availableVotes && <Loader />}\n          {showUnlockVoting ? (\n            <ButtonPrimary\n              style={{ width: 'fit-content' }}\n              padding=\"8px\"\n              borderRadius=\"8px\"\n              onClick={toggleDelegateModal}\n            >\n              {t('votePage.unlockVoting')}\n            </ButtonPrimary>\n          ) : availableVotes && JSBI.notEqual(JSBI.BigInt(0), availableVotes?.raw) ? (\n            <TYPE.body fontWeight={500} mr=\"6px\">\n              <FormattedCurrencyAmount currencyAmount={availableVotes} /> {t('votePage.votes')}\n            </TYPE.body>\n          ) : pngBalance &&\n            userDelegatee &&\n            userDelegatee !== ZERO_ADDRESS &&\n            JSBI.notEqual(JSBI.BigInt(0), pngBalance?.raw) ? (\n            <TYPE.body fontWeight={500} mr=\"6px\">\n              <FormattedCurrencyAmount currencyAmount={pngBalance} /> {t('votePage.votes')}\n            </TYPE.body>\n          ) : (\n            ''\n          )}\n        </WrapSmall>\n        {!showUnlockVoting && (\n          <RowBetween>\n            <div />\n            {userDelegatee && userDelegatee !== ZERO_ADDRESS ? (\n              <RowFixed>\n                <TYPE.body fontWeight={500} mr=\"4px\">\n                  {t('votePage.delegatedTo')}\n                </TYPE.body>\n                <AddressButton>\n                  <StyledExternalLink\n                    href={getEtherscanLink(ChainId.FUJI, userDelegatee, 'address')}\n                    style={{ margin: '0 4px' }}\n                  >\n                    {userDelegatee === account ? 'Self' : shortenAddress(userDelegatee)}\n                  </StyledExternalLink>\n                  <TextButton onClick={toggleDelegateModal} style={{ marginLeft: '4px' }}>\n                    ({t('votePage.edit')})\n                  </TextButton>\n                </AddressButton>\n              </RowFixed>\n            ) : (\n              ''\n            )}\n          </RowBetween>\n        )}\n        {allProposals?.length === 0 && (\n          <EmptyProposals>\n            <TYPE.body style={{ marginBottom: '8px' }}>{t('votePage.noProposalsFound')}</TYPE.body>\n            <TYPE.subHeader>\n              <i>{t('votePage.proposalCommunityMembers')}</i>\n            </TYPE.subHeader>\n          </EmptyProposals>\n        )}\n        {allProposals?.map((p: ProposalData, i) => {\n          return (\n            <Proposal as={Link} to={'/vote/' + p.id} key={i}>\n              <ProposalNumber>{p.id}</ProposalNumber>\n              <ProposalTitle>{p.title}</ProposalTitle>\n              <ProposalStatus status={p.status}>{p.status}</ProposalStatus>\n            </Proposal>\n          )\n        })}\n      </TopSection>\n      <TYPE.subHeader color=\"text3\">{t('votePage.minimumThreshold')}</TYPE.subHeader>\n    </PageWrapper>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}