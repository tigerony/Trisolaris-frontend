{"ast":null,"code":"var _jsxFileName = \"/Users/sidshekhar/Documents/interface/src/pages/Airdrop/index.tsx\";\nimport React, { useContext, useState } from 'react';\nimport { AutoColumn } from '../../components/Column';\nimport styled, { ThemeContext } from 'styled-components';\nimport { TYPE } from '../../theme';\nimport Card from '../../components/Card';\nimport { ButtonError } from '../../components/Button';\nimport { useIsTransactionPending } from '../../state/transactions/hooks';\nimport { useAirdropIsClaimingAllowed, useClaimCallback, useUserHasAvailableClaim, useUserUnclaimedAmount } from '../../state/airdrop/hooks';\nimport { useActiveWeb3React } from '../../hooks';\nimport Confetti from '../../components/Confetti';\nimport { useTokenBalance } from '../../state/wallet/hooks';\nimport { UNI, SUSHI } from '../../constants';\nimport { ChainId, JSBI } from '@pangolindex/sdk';\nimport { useTranslation } from 'react-i18next';\nconst PageWrapper = styled(AutoColumn)``;\nconst TopSection = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`;\nconst EmptyProposals = styled.div`\n  border: 1px solid ${({\n  theme\n}) => theme.text4};\n  padding: 16px 12px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1rem;\n`;\nexport const Dots = styled.span`\n  &::after {\n    display: inline-block;\n    animation: ellipsis 1.25s infinite;\n    content: '.';\n    width: 1em;\n    text-align: left;\n  }\n\n  @keyframes ellipsis {\n    0% {\n      content: '.';\n    }\n    33% {\n      content: '..';\n    }\n    66% {\n      content: '...';\n    }\n  }\n`;\nexport default function Vote() {\n  const {\n    account,\n    chainId\n  } = useActiveWeb3React();\n  const theme = useContext(ThemeContext); // used for UI loading states\n\n  const [attempting, setAttempting] = useState(false); // monitor the status of the claim from contracts and txns\n\n  const {\n    claimCallback\n  } = useClaimCallback(account);\n  const claimingAllowed = useAirdropIsClaimingAllowed();\n  const canClaim = useUserHasAvailableClaim(account);\n  const claimAmount = useUserUnclaimedAmount(account);\n  const uniAmount = useTokenBalance(account ? account : undefined, chainId ? UNI[chainId] : UNI[ChainId.AVALANCHE]);\n  const sushiAmount = useTokenBalance(account ? account : undefined, chainId ? SUSHI[chainId] : SUSHI[ChainId.AVALANCHE]);\n  const hasUni = (uniAmount === null || uniAmount === void 0 ? void 0 : uniAmount.greaterThan(JSBI.BigInt(1))) || (uniAmount === null || uniAmount === void 0 ? void 0 : uniAmount.equalTo(JSBI.BigInt(1)));\n  const hasSushi = (sushiAmount === null || sushiAmount === void 0 ? void 0 : sushiAmount.greaterThan(JSBI.BigInt(1))) || (sushiAmount === null || sushiAmount === void 0 ? void 0 : sushiAmount.equalTo(JSBI.BigInt(1)));\n  const [hash, setHash] = useState(); // monitor the status of the claim from contracts and txns\n\n  const claimPending = useIsTransactionPending(hash !== null && hash !== void 0 ? hash : '');\n  const claimConfirmed = hash && !claimPending;\n  const [error, setError] = useState();\n  const {\n    t\n  } = useTranslation(); // use the hash to monitor this txn\n\n  function onClaim() {\n    setAttempting(true);\n    claimCallback().then(hash => {\n      setAttempting(false);\n      setHash(hash);\n    }) // reset and log error\n    .catch(err => {\n      setAttempting(false);\n      setError(err);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    gap: \"lg\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TopSection, {\n    gap: \"2px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Confetti, {\n    start: Boolean(claimConfirmed),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TYPE.mediumHeader, {\n    style: {\n      margin: '0.5rem 0'\n    },\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, t('airdrop.claimPngAirdrop')), !claimingAllowed ? /*#__PURE__*/React.createElement(Card, {\n    padding: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    color: theme.text3,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, t('airdrop.claimPeriodEnded'))) : !account ? /*#__PURE__*/React.createElement(Card, {\n    padding: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    color: theme.text3,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, t('airdrop.connectWalletViewLiquidity'))) : !canClaim ? /*#__PURE__*/React.createElement(Card, {\n    padding: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    color: theme.text3,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, t('airdrop.noAvailableClaim'))) : !hasUni && !hasSushi ? /*#__PURE__*/React.createElement(Card, {\n    padding: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    color: theme.text1,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, t('airdrop.noUniNoSushi')), /*#__PURE__*/React.createElement(TYPE.body, {\n    mt: \"1rem\",\n    color: theme.text1,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, t('airdrop.youHave') + (claimAmount === null || claimAmount === void 0 ? void 0 : claimAmount.toFixed(0, {\n    groupSeparator: ','\n  })) + t('airdrop.pngAvailableClaim'))) : attempting ? /*#__PURE__*/React.createElement(EmptyProposals, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    color: theme.text3,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, t('airdrop.Loading')))) : claimConfirmed ? /*#__PURE__*/React.createElement(TYPE.subHeader, {\n    mt: \"1rem\",\n    fontWeight: 500,\n    color: theme.text1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"party-hat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"\\uD83C\\uDF89\", ' '), t('airdrop.welcomeToTeamPangolin'), /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"party-hat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, ' ', \"\\uD83C\\uDF89\")) : /*#__PURE__*/React.createElement(ButtonError, {\n    error: !!error,\n    padding: \"16px 16px\",\n    width: \"100%\",\n    mt: \"1rem\",\n    onClick: onClaim,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, error ? error['data']['message'] : t('airdrop.claim') + (claimAmount === null || claimAmount === void 0 ? void 0 : claimAmount.toFixed(0, {\n    groupSeparator: ','\n  })) + ' PNG')));\n}","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/src/pages/Airdrop/index.tsx"],"names":["React","useContext","useState","AutoColumn","styled","ThemeContext","TYPE","Card","ButtonError","useIsTransactionPending","useAirdropIsClaimingAllowed","useClaimCallback","useUserHasAvailableClaim","useUserUnclaimedAmount","useActiveWeb3React","Confetti","useTokenBalance","UNI","SUSHI","ChainId","JSBI","useTranslation","PageWrapper","TopSection","EmptyProposals","div","theme","text4","Dots","span","Vote","account","chainId","attempting","setAttempting","claimCallback","claimingAllowed","canClaim","claimAmount","uniAmount","undefined","AVALANCHE","sushiAmount","hasUni","greaterThan","BigInt","equalTo","hasSushi","hash","setHash","claimPending","claimConfirmed","error","setError","t","onClaim","then","catch","err","Boolean","margin","text3","text1","toFixed","groupSeparator"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\nimport { AutoColumn } from '../../components/Column'\nimport styled, { ThemeContext } from 'styled-components'\nimport { TYPE } from '../../theme'\nimport Card from '../../components/Card'\nimport { ButtonError } from '../../components/Button'\nimport { useIsTransactionPending } from '../../state/transactions/hooks'\nimport {\n  useAirdropIsClaimingAllowed,\n  useClaimCallback,\n  useUserHasAvailableClaim,\n  useUserUnclaimedAmount\n} from '../../state/airdrop/hooks'\nimport { useActiveWeb3React } from '../../hooks'\nimport Confetti from '../../components/Confetti'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { UNI, SUSHI } from '../../constants'\nimport { ChainId, JSBI } from '@pangolindex/sdk'\nimport { useTranslation } from 'react-i18next'\n\nconst PageWrapper = styled(AutoColumn)``\n\nconst TopSection = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`\n\nconst EmptyProposals = styled.div`\n  border: 1px solid ${({ theme }) => theme.text4};\n  padding: 16px 12px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1rem;\n`\n\nexport const Dots = styled.span`\n  &::after {\n    display: inline-block;\n    animation: ellipsis 1.25s infinite;\n    content: '.';\n    width: 1em;\n    text-align: left;\n  }\n\n  @keyframes ellipsis {\n    0% {\n      content: '.';\n    }\n    33% {\n      content: '..';\n    }\n    66% {\n      content: '...';\n    }\n  }\n`\n\nexport default function Vote() {\n  const { account, chainId } = useActiveWeb3React()\n\n  const theme = useContext(ThemeContext)\n\n  // used for UI loading states\n  const [attempting, setAttempting] = useState<boolean>(false)\n\n  // monitor the status of the claim from contracts and txns\n  const { claimCallback } = useClaimCallback(account)\n\n  const claimingAllowed = useAirdropIsClaimingAllowed()\n  const canClaim = useUserHasAvailableClaim(account)\n\n  const claimAmount = useUserUnclaimedAmount(account)\n\n  const uniAmount = useTokenBalance(account ? account : undefined, chainId ? UNI[chainId] : UNI[ChainId.AVALANCHE])\n  const sushiAmount = useTokenBalance(\n    account ? account : undefined,\n    chainId ? SUSHI[chainId] : SUSHI[ChainId.AVALANCHE]\n  )\n\n  const hasUni = uniAmount?.greaterThan(JSBI.BigInt(1)) || uniAmount?.equalTo(JSBI.BigInt(1))\n  const hasSushi = sushiAmount?.greaterThan(JSBI.BigInt(1)) || sushiAmount?.equalTo(JSBI.BigInt(1))\n\n  const [hash, setHash] = useState<string | undefined>()\n\n  // monitor the status of the claim from contracts and txns\n  const claimPending = useIsTransactionPending(hash ?? '')\n  const claimConfirmed = hash && !claimPending\n\n  const [error, setError] = useState<any | undefined>()\n  const { t } = useTranslation()\n\n  // use the hash to monitor this txn\n\n  function onClaim() {\n    setAttempting(true)\n    claimCallback()\n      .then(hash => {\n        setAttempting(false)\n        setHash(hash)\n      })\n      // reset and log error\n      .catch(err => {\n        setAttempting(false)\n        setError(err)\n      })\n  }\n\n  return (\n    <PageWrapper gap=\"lg\" justify=\"center\">\n      <TopSection gap=\"2px\">\n        <Confetti start={Boolean(claimConfirmed)} />\n        <TYPE.mediumHeader style={{ margin: '0.5rem 0' }} textAlign=\"center\">\n          {t('airdrop.claimPngAirdrop')}\n        </TYPE.mediumHeader>\n        {!claimingAllowed ? (\n          <Card padding=\"40px\">\n            <TYPE.body color={theme.text3} textAlign=\"center\">\n              {t('airdrop.claimPeriodEnded')}\n            </TYPE.body>\n          </Card>\n        ) : !account ? (\n          <Card padding=\"40px\">\n            <TYPE.body color={theme.text3} textAlign=\"center\">\n              {t('airdrop.connectWalletViewLiquidity')}\n            </TYPE.body>\n          </Card>\n        ) : !canClaim ? (\n          <Card padding=\"40px\">\n            <TYPE.body color={theme.text3} textAlign=\"center\">\n              {t('airdrop.noAvailableClaim')}\n            </TYPE.body>\n          </Card>\n        ) : !hasUni && !hasSushi ? (\n          <Card padding=\"40px\">\n            <TYPE.body color={theme.text1} textAlign=\"center\">\n              {t('airdrop.noUniNoSushi')}\n            </TYPE.body>\n            <TYPE.body mt=\"1rem\" color={theme.text1} textAlign=\"center\">\n              {t('airdrop.youHave') + claimAmount?.toFixed(0, { groupSeparator: ',' }) + t('airdrop.pngAvailableClaim')}\n            </TYPE.body>\n          </Card>\n        ) : attempting ? (\n          <EmptyProposals>\n            <TYPE.body color={theme.text3} textAlign=\"center\">\n              <Dots>{t('airdrop.Loading')}</Dots>\n            </TYPE.body>\n          </EmptyProposals>\n        ) : claimConfirmed ? (\n          <TYPE.subHeader mt=\"1rem\" fontWeight={500} color={theme.text1}>\n            <span role=\"img\" aria-label=\"party-hat\">\n              🎉{' '}\n            </span>\n            {t('airdrop.welcomeToTeamPangolin')}\n            <span role=\"img\" aria-label=\"party-hat\">\n              {' '}\n              🎉\n            </span>\n          </TYPE.subHeader>\n        ) : (\n          <ButtonError error={!!error} padding=\"16px 16px\" width=\"100%\" mt=\"1rem\" onClick={onClaim}>\n            {error\n              ? error['data']['message']\n              : t('airdrop.claim') + claimAmount?.toFixed(0, { groupSeparator: ',' }) + ' PNG'}\n          </ButtonError>\n        )}\n      </TopSection>\n    </PageWrapper>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}