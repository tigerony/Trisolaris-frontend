{"ast":null,"code":"var _jsxFileName = \"/Users/sidshekhar/Documents/interface/src/pages/Buy/index.tsx\";\nimport AppBody from \"../AppBody\";\nimport { Wrapper } from \"../../components/swap/styleds\";\nimport React, { useState } from 'react';\nimport { TYPE } from \"../../theme\";\nimport PurchaseForm from \"../../components/PurchaseForm\";\nimport TextInput from \"../../components/PurchaseForm/input\";\nimport { ButtonPrimary } from \"../../components/Button\";\nimport { AutoColumn, ColumnCenter } from \"../../components/Column\";\nimport { OutlineCard } from \"../../components/Card\";\nimport FiatInputPanel from \"../../components/FiatInputPanel\";\nimport { USD } from '../../constants/fiat';\nimport { useQuoteRequest } from '../../state/wyre/hooks';\nimport { useActiveWeb3React } from \"../../hooks\";\nimport Footer from \"../../components/FiatInputPanel/Footer\";\nimport { redirectToWyre } from \"./redirect\";\nconst emailPattern = /^[A-Za-z0-9][A-Za-z0-9._-]*@[A-za-z0-9.-]+\\.[A-Za-z]{2,4}$/;\n\nconst minLengthValidator = val => {\n  if (val) {\n    return [];\n  } else {\n    return [\"Please enter at least one character\"];\n  }\n};\n\nconst emailValidator = val => {\n  if (val && emailPattern.test(val)) {\n    return [];\n  } else {\n    return [\"Please enter a valid email address\"];\n  }\n};\n\nexport default function Buy() {\n  const {\n    account\n  } = useActiveWeb3React();\n  const [amount, setAmount] = useState('');\n  const [fieldError, setFieldError] = useState(true);\n  const [formError, setFormError] = useState(false);\n  const [fiat, setFiat] = useState(USD);\n  useQuoteRequest(account, amount, fiat.symbol);\n  const ableToBuy = account && Number(amount) && !fieldError;\n\n  const handleSubmit = data => {\n    const formDataWithAmount = { ...data,\n      amount: amount,\n      sourceCurrency: fiat.symbol,\n      dest: `avalanche:${account === null || account === void 0 ? void 0 : account.toLowerCase()}`\n    };\n    redirectToWyre(formDataWithAmount).then(success => {\n      setFormError(!success);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Wrapper, {\n    id: \"swap-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ColumnCenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"10px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(OutlineCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.link, {\n    fontSize: 14,\n    fontWeight: 500,\n    color: 'primaryText2',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Buy AVAX with fiat from our partner Wyre.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 60\n    }\n  }), \"Pangolin does not store your purchase history or any personal data.\")))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(PurchaseForm, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    type: \"text\",\n    name: \"firstName\",\n    placeholder: \"First name\",\n    validators: [minLengthValidator],\n    onError: setFieldError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    type: \"text\",\n    name: \"lastName\",\n    placeholder: \"Last name\",\n    validators: [minLengthValidator],\n    onError: setFieldError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"Email\",\n    validators: [emailValidator, minLengthValidator],\n    onError: setFieldError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FiatInputPanel, {\n    fiat: fiat,\n    value: amount,\n    onUserInput: setAmount,\n    onFiatSelect: setFiat,\n    id: \"fiatPanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), formError ? /*#__PURE__*/React.createElement(TYPE.error, {\n    title: 'Error',\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 26\n    }\n  }, \"An error occurred while submitting the data to Wyre\") : null, /*#__PURE__*/React.createElement(ButtonPrimary, {\n    type: \"submit\",\n    style: {\n      margin: '20px 0 0 0'\n    },\n    disabled: !ableToBuy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Buy AVAX\")))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/src/pages/Buy/index.tsx"],"names":["AppBody","Wrapper","React","useState","TYPE","PurchaseForm","TextInput","ButtonPrimary","AutoColumn","ColumnCenter","OutlineCard","FiatInputPanel","USD","useQuoteRequest","useActiveWeb3React","Footer","redirectToWyre","emailPattern","minLengthValidator","val","emailValidator","test","Buy","account","amount","setAmount","fieldError","setFieldError","formError","setFormError","fiat","setFiat","symbol","ableToBuy","Number","handleSubmit","data","formDataWithAmount","sourceCurrency","dest","toLowerCase","then","success","margin"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,YAApB;AACA,SAAQC,OAAR,QAAsB,+BAAtB;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,IAAR,QAAmB,aAAnB;AACA,OAAOC,YAAP,MAAkC,+BAAlC;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,SAAQC,aAAR,QAA4B,yBAA5B;AACA,SAAQC,UAAR,EAAoBC,YAApB,QAAuC,yBAAvC;AACA,SAAQC,WAAR,QAA0B,uBAA1B;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,SAASC,GAAT,QAAoB,sBAApB;AACA,SAAQC,eAAR,QAA8B,wBAA9B;AACA,SAAQC,kBAAR,QAAiC,aAAjC;AACA,OAAOC,MAAP,MAAmB,wCAAnB;AACA,SAAQC,cAAR,QAA6B,YAA7B;AAEA,MAAMC,YAAY,GAAG,4DAArB;;AAEA,MAAMC,kBAAkB,GAAIC,GAAD,IAA2B;AACpD,MAAIA,GAAJ,EAAS;AACP,WAAO,EAAP;AACD,GAFD,MAEO;AACL,WAAO,CAAC,qCAAD,CAAP;AACD;AACF,CAND;;AAQA,MAAMC,cAAc,GAAID,GAAD,IAA2B;AAChD,MAAIA,GAAG,IAAIF,YAAY,CAACI,IAAb,CAAkBF,GAAlB,CAAX,EAAmC;AACjC,WAAO,EAAP;AACD,GAFD,MAGK;AACH,WAAO,CAAC,oCAAD,CAAP;AACD;AAEF,CARD;;AAUA,eAAe,SAASG,GAAT,GAAe;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAcT,kBAAkB,EAAtC;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBtB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACuB,UAAD,EAAaC,aAAb,IAA8BxB,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACyB,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAAC2B,IAAD,EAAOC,OAAP,IAAkB5B,QAAQ,CAACS,GAAD,CAAhC;AACAC,EAAAA,eAAe,CAACU,OAAD,EAAUC,MAAV,EAAkBM,IAAI,CAACE,MAAvB,CAAf;AACA,QAAMC,SAAS,GAAGV,OAAO,IAAIW,MAAM,CAACV,MAAD,CAAjB,IAA6B,CAACE,UAAhD;;AAEA,QAAMS,YAAY,GAAIC,IAAD,IAAgB;AACnC,UAAMC,kBAAkB,GAAG,EAAC,GAAGD,IAAJ;AACzBZ,MAAAA,MAAM,EAAEA,MADiB;AAEzBc,MAAAA,cAAc,EAAER,IAAI,CAACE,MAFI;AAGzBO,MAAAA,IAAI,EAAG,aAAYhB,OAAb,aAAaA,OAAb,uBAAaA,OAAO,CAAEiB,WAAT,EAAuB;AAHjB,KAA3B;AAKAxB,IAAAA,cAAc,CAACqB,kBAAD,CAAd,CACGI,IADH,CAEKC,OAAD,IAAa;AACXb,MAAAA,YAAY,CAAC,CAACa,OAAF,CAAZ;AACD,KAJL;AAMD,GAZD;;AAcA,sBACE,uDACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,QAAQ,EAAE,EAArB;AAAyB,IAAA,UAAU,EAAE,GAArC;AAA0C,IAAA,KAAK,EAAE,cAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAC2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD3C,wEADA,CADF,CADJ,CADF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAYE,oBAAC,YAAD;AAAc,IAAA,QAAQ,EAAEP,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,MAAhB;AAAuB,IAAA,IAAI,EAAC,WAA5B;AAAwC,IAAA,WAAW,EAAC,YAApD;AAAiE,IAAA,UAAU,EAAE,CAACjB,kBAAD,CAA7E;AAAmG,IAAA,OAAO,EAAES,aAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,MAAhB;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,WAAW,EAAC,WAAnD;AAA+D,IAAA,UAAU,EAAE,CAACT,kBAAD,CAA3E;AAAiG,IAAA,OAAO,EAAES,aAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,MAAhB;AAAuB,IAAA,IAAI,EAAC,OAA5B;AAAoC,IAAA,WAAW,EAAC,OAAhD;AAAwD,IAAA,UAAU,EAAE,CAACP,cAAD,EAAiBF,kBAAjB,CAApE;AAA0G,IAAA,OAAO,EAAES,aAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,cAAD;AAAgB,IAAA,IAAI,EAAEG,IAAtB;AAA4B,IAAA,KAAK,EAAEN,MAAnC;AAA2C,IAAA,WAAW,EAAEC,SAAxD;AAAmE,IAAA,YAAY,EAAEM,OAAjF;AAA0F,IAAA,EAAE,EAAC,WAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKGH,SAAS,gBAAG,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,KAAK,EAAE,OAAnB;AAA4B,IAAA,KAAK,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DAAH,GAAwG,IALpH,eAME,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAC,QAApB;AAA6B,IAAA,KAAK,EAAE;AAAEe,MAAAA,MAAM,EAAE;AAAV,KAApC;AAA8D,IAAA,QAAQ,EAAE,CAACV,SAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,CAZF,CADF,CADF,eA2BE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3BF,CADF;AA8BD","sourcesContent":["import AppBody from \"../AppBody\";\nimport {Wrapper} from \"../../components/swap/styleds\";\nimport React, {useState} from 'react'\nimport {TYPE} from \"../../theme\";\nimport PurchaseForm, {Data } from \"../../components/PurchaseForm\"\nimport TextInput from \"../../components/PurchaseForm/input\"\nimport {ButtonPrimary} from \"../../components/Button\";\nimport {AutoColumn, ColumnCenter} from \"../../components/Column\";\nimport {OutlineCard} from \"../../components/Card\";\nimport FiatInputPanel from \"../../components/FiatInputPanel\";\nimport { USD } from '../../constants/fiat'\nimport {useQuoteRequest} from '../../state/wyre/hooks'\nimport {useActiveWeb3React} from \"../../hooks\";\nimport Footer from \"../../components/FiatInputPanel/Footer\";\nimport {redirectToWyre} from \"./redirect\";\n\nconst emailPattern = /^[A-Za-z0-9][A-Za-z0-9._-]*@[A-za-z0-9.-]+\\.[A-Za-z]{2,4}$/;\n\nconst minLengthValidator = (val: string): string[] => {\n  if (val) {\n    return []\n  } else {\n    return [\"Please enter at least one character\"]\n  }\n}\n\nconst emailValidator = (val: string): string[] => {\n  if (val && emailPattern.test(val)) {\n    return []\n  }\n  else {\n    return [\"Please enter a valid email address\"]\n  }\n\n}\n\nexport default function Buy() {\n  const { account } = useActiveWeb3React()\n  const [amount, setAmount] = useState('')\n  const [fieldError, setFieldError] = useState(true)\n  const [formError, setFormError] = useState(false)\n  const [fiat, setFiat] = useState(USD)\n  useQuoteRequest(account, amount, fiat.symbol)\n  const ableToBuy = account && Number(amount) && !fieldError\n\n  const handleSubmit = (data: Data) => {\n    const formDataWithAmount = {...data,\n      amount: amount,\n      sourceCurrency: fiat.symbol,\n      dest: `avalanche:${account?.toLowerCase()}`\n    }\n    redirectToWyre(formDataWithAmount)\n      .then(\n        (success) => {\n          setFormError(!success)\n        })\n\n  }\n\n  return (\n    <>\n      <AppBody>\n        <Wrapper id=\"swap-page\">\n          <ColumnCenter>\n              <AutoColumn gap=\"10px\">\n                <OutlineCard>\n                <TYPE.link fontSize={14} fontWeight={500} color={'primaryText2'}>\n                  Buy AVAX with fiat from our partner Wyre.<br/>\n                  Pangolin does not store your purchase history or any personal data.\n                </TYPE.link>\n                </OutlineCard>\n              </AutoColumn>\n          </ColumnCenter>\n          <p></p>\n          <PurchaseForm onSubmit={handleSubmit}>\n            <TextInput type=\"text\" name=\"firstName\" placeholder=\"First name\" validators={[minLengthValidator]} onError={setFieldError}></TextInput>\n            <TextInput type=\"text\" name=\"lastName\" placeholder=\"Last name\" validators={[minLengthValidator]} onError={setFieldError}></TextInput>\n            <TextInput type=\"text\" name=\"email\" placeholder=\"Email\" validators={[emailValidator, minLengthValidator]} onError={setFieldError}></TextInput>\n            <FiatInputPanel fiat={fiat} value={amount} onUserInput={setAmount} onFiatSelect={setFiat} id=\"fiatPanel\"/>\n            {formError ? <TYPE.error title={'Error'} error>An error occurred while submitting the data to Wyre</TYPE.error> : null}\n            <ButtonPrimary type=\"submit\" style={{ margin: '20px 0 0 0' }} disabled={!ableToBuy}>\n              Buy AVAX\n            </ButtonPrimary>\n          </PurchaseForm>\n\n        </Wrapper>\n      </AppBody>\n      <Footer/>\n    </>)\n}"]},"metadata":{},"sourceType":"module"}