{"ast":null,"code":"var _jsxFileName = \"/Users/sidshekhar/Documents/interface/src/components/vote/VoteModal.tsx\";\nimport React, { useState, useContext } from 'react';\nimport { useActiveWeb3React } from '../../hooks';\nimport Modal from '../Modal';\nimport { AutoColumn, ColumnCenter } from '../Column';\nimport styled, { ThemeContext } from 'styled-components';\nimport { RowBetween } from '../Row';\nimport { TYPE, CustomLightSpinner } from '../../theme';\nimport { X, ArrowUpCircle } from 'react-feather';\nimport { ButtonPrimary } from '../Button';\nimport Circle from \"../../assets/images/blue-loader.svg\";\nimport { useVoteCallback, useUserVotes } from '../../state/governance/hooks';\nimport { getEtherscanLink } from '../../utils';\nimport { ExternalLink } from '../../theme/components';\nimport { useTranslation } from 'react-i18next';\nconst ContentWrapper = styled(AutoColumn)`\n  width: 100%;\n  padding: 24px;\n`;\nconst StyledClosed = styled(X)`\n  :hover {\n    cursor: pointer;\n  }\n`;\nconst ConfirmOrLoadingWrapper = styled.div`\n  width: 100%;\n  padding: 24px;\n`;\nconst ConfirmedIcon = styled(ColumnCenter)`\n  padding: 60px 0;\n`;\nexport default function VoteModal({\n  isOpen,\n  onDismiss,\n  proposalId,\n  support\n}) {\n  const {\n    chainId\n  } = useActiveWeb3React();\n  const {\n    voteCallback\n  } = useVoteCallback();\n  const availableVotes = useUserVotes(); // monitor call to help UI loading state\n\n  const [hash, setHash] = useState();\n  const [attempting, setAttempting] = useState(false); // get theme for colors\n\n  const theme = useContext(ThemeContext);\n  const {\n    t\n  } = useTranslation(); // wrapper to reset state on modal close\n\n  function wrappedOndismiss() {\n    setHash(undefined);\n    setAttempting(false);\n    onDismiss();\n  }\n\n  async function onVote() {\n    var _voteCallback;\n\n    setAttempting(true); // if callback not returned properly ignore\n\n    if (!voteCallback) return; // try delegation and store hash\n\n    const hash = await ((_voteCallback = voteCallback(proposalId, support)) === null || _voteCallback === void 0 ? void 0 : _voteCallback.catch(error => {\n      setAttempting(false);\n      console.log(error);\n    }));\n\n    if (hash) {\n      setHash(hash);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    onDismiss: wrappedOndismiss,\n    maxHeight: 90,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, !attempting && !hash && /*#__PURE__*/React.createElement(ContentWrapper, {\n    gap: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"lg\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.mediumHeader, {\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, t('vote.vote'), \" \", support ? t('vote.for') : t('vote.against'), \" \", t('vote.proposal'), \" \", proposalId), /*#__PURE__*/React.createElement(StyledClosed, {\n    stroke: \"black\",\n    onClick: wrappedOndismiss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TYPE.largeHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, availableVotes === null || availableVotes === void 0 ? void 0 : availableVotes.toSignificant(4), \" \", t('vote.votes')), /*#__PURE__*/React.createElement(ButtonPrimary, {\n    onClick: onVote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.mediumHeader, {\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, t('vote.vote'), \" \", support ? t('vote.for') : t('vote.against'), \" \", t('vote.proposal'), \" \", proposalId)))), attempting && !hash && /*#__PURE__*/React.createElement(ConfirmOrLoadingWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(StyledClosed, {\n    onClick: wrappedOndismiss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ConfirmedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CustomLightSpinner, {\n    src: Circle,\n    alt: \"loader\",\n    size: '90px',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"100px\",\n    justify: 'center',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"12px\",\n    justify: 'center',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.largeHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, t('vote.submittingVote'), \" \")), /*#__PURE__*/React.createElement(TYPE.subHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, t('vote.confirmTransaction')))), hash && /*#__PURE__*/React.createElement(ConfirmOrLoadingWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(StyledClosed, {\n    onClick: wrappedOndismiss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ConfirmedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ArrowUpCircle, {\n    strokeWidth: 0.5,\n    size: 90,\n    color: theme.primary1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"100px\",\n    justify: 'center',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"12px\",\n    justify: 'center',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.largeHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, t('vote.transactionSubmitted'))), chainId && /*#__PURE__*/React.createElement(ExternalLink, {\n    href: getEtherscanLink(chainId, hash, 'transaction'),\n    style: {\n      marginLeft: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.subHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, t('vote.viewExplorer'))))));\n}","map":{"version":3,"sources":["/Users/sidshekhar/Documents/interface/src/components/vote/VoteModal.tsx"],"names":["React","useState","useContext","useActiveWeb3React","Modal","AutoColumn","ColumnCenter","styled","ThemeContext","RowBetween","TYPE","CustomLightSpinner","X","ArrowUpCircle","ButtonPrimary","useVoteCallback","useUserVotes","getEtherscanLink","ExternalLink","useTranslation","ContentWrapper","StyledClosed","ConfirmOrLoadingWrapper","div","ConfirmedIcon","VoteModal","isOpen","onDismiss","proposalId","support","chainId","voteCallback","availableVotes","hash","setHash","attempting","setAttempting","theme","t","wrappedOndismiss","undefined","onVote","catch","error","console","log","toSignificant","Circle","primary1","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\nimport { useActiveWeb3React } from '../../hooks'\n\nimport Modal from '../Modal'\nimport { AutoColumn, ColumnCenter } from '../Column'\nimport styled, { ThemeContext } from 'styled-components'\nimport { RowBetween } from '../Row'\nimport { TYPE, CustomLightSpinner } from '../../theme'\nimport { X, ArrowUpCircle } from 'react-feather'\nimport { ButtonPrimary } from '../Button'\nimport Circle from '../../assets/images/blue-loader.svg'\nimport { useVoteCallback, useUserVotes } from '../../state/governance/hooks'\nimport { getEtherscanLink } from '../../utils'\nimport { ExternalLink } from '../../theme/components'\nimport { TokenAmount } from '@pangolindex/sdk'\nimport { useTranslation } from 'react-i18next'\n\nconst ContentWrapper = styled(AutoColumn)`\n  width: 100%;\n  padding: 24px;\n`\n\nconst StyledClosed = styled(X)`\n  :hover {\n    cursor: pointer;\n  }\n`\n\nconst ConfirmOrLoadingWrapper = styled.div`\n  width: 100%;\n  padding: 24px;\n`\n\nconst ConfirmedIcon = styled(ColumnCenter)`\n  padding: 60px 0;\n`\n\ninterface VoteModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  support: boolean // if user is for or against proposal\n  proposalId: string | undefined // id for the proposal to vote on\n}\n\nexport default function VoteModal({ isOpen, onDismiss, proposalId, support }: VoteModalProps) {\n  const { chainId } = useActiveWeb3React()\n  const {\n    voteCallback\n  }: {\n    voteCallback: (proposalId: string | undefined, support: boolean) => Promise<string> | undefined\n  } = useVoteCallback()\n  const availableVotes: TokenAmount | undefined = useUserVotes()\n\n  // monitor call to help UI loading state\n  const [hash, setHash] = useState<string | undefined>()\n  const [attempting, setAttempting] = useState<boolean>(false)\n\n  // get theme for colors\n  const theme = useContext(ThemeContext)\n\n  const { t } = useTranslation()\n\n  // wrapper to reset state on modal close\n  function wrappedOndismiss() {\n    setHash(undefined)\n    setAttempting(false)\n    onDismiss()\n  }\n\n  async function onVote() {\n    setAttempting(true)\n\n    // if callback not returned properly ignore\n    if (!voteCallback) return\n\n    // try delegation and store hash\n    const hash = await voteCallback(proposalId, support)?.catch(error => {\n      setAttempting(false)\n      console.log(error)\n    })\n\n    if (hash) {\n      setHash(hash)\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onDismiss={wrappedOndismiss} maxHeight={90}>\n      {!attempting && !hash && (\n        <ContentWrapper gap=\"lg\">\n          <AutoColumn gap=\"lg\" justify=\"center\">\n            <RowBetween>\n              <TYPE.mediumHeader fontWeight={500}>\n                {t('vote.vote')} {support ? t('vote.for') : t('vote.against')} {t('vote.proposal')} {proposalId}\n              </TYPE.mediumHeader>\n              <StyledClosed stroke=\"black\" onClick={wrappedOndismiss} />\n            </RowBetween>\n            <TYPE.largeHeader>\n              {availableVotes?.toSignificant(4)} {t('vote.votes')}\n            </TYPE.largeHeader>\n            <ButtonPrimary onClick={onVote}>\n              <TYPE.mediumHeader color=\"white\">\n                {t('vote.vote')} {support ? t('vote.for') : t('vote.against')} {t('vote.proposal')} {proposalId}\n              </TYPE.mediumHeader>\n            </ButtonPrimary>\n          </AutoColumn>\n        </ContentWrapper>\n      )}\n      {attempting && !hash && (\n        <ConfirmOrLoadingWrapper>\n          <RowBetween>\n            <div />\n            <StyledClosed onClick={wrappedOndismiss} />\n          </RowBetween>\n          <ConfirmedIcon>\n            <CustomLightSpinner src={Circle} alt=\"loader\" size={'90px'} />\n          </ConfirmedIcon>\n          <AutoColumn gap=\"100px\" justify={'center'}>\n            <AutoColumn gap=\"12px\" justify={'center'}>\n              <TYPE.largeHeader>{t('vote.submittingVote')} </TYPE.largeHeader>\n            </AutoColumn>\n            <TYPE.subHeader>{t('vote.confirmTransaction')}</TYPE.subHeader>\n          </AutoColumn>\n        </ConfirmOrLoadingWrapper>\n      )}\n      {hash && (\n        <ConfirmOrLoadingWrapper>\n          <RowBetween>\n            <div />\n            <StyledClosed onClick={wrappedOndismiss} />\n          </RowBetween>\n          <ConfirmedIcon>\n            <ArrowUpCircle strokeWidth={0.5} size={90} color={theme.primary1} />\n          </ConfirmedIcon>\n          <AutoColumn gap=\"100px\" justify={'center'}>\n            <AutoColumn gap=\"12px\" justify={'center'}>\n              <TYPE.largeHeader>{t('vote.transactionSubmitted')}</TYPE.largeHeader>\n            </AutoColumn>\n            {chainId && (\n              <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')} style={{ marginLeft: '4px' }}>\n                <TYPE.subHeader>{t('vote.viewExplorer')}</TYPE.subHeader>\n              </ExternalLink>\n            )}\n          </AutoColumn>\n        </ConfirmOrLoadingWrapper>\n      )}\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}